import{E as m,r,k as t,aB as v,B as N,f as S,ay as y,aC as E}from"./index-061bd8a1.js";import{b as I,d as T}from"./Table-576ab7b4.js";const A=m.Group,B=({children:s,columns:l,setColumns:i,settingDisable:o})=>{const n=l.map(e=>({label:e.title,value:e.dataIndex,disabled:o.includes(e.dataIndex)})),h=l.map(e=>e.dataIndex),c=l.map(e=>e.dataIndex),[d,a]=r.useState(c),[C,u]=r.useState(!1),[g,x]=r.useState(n.length==c.length),j=e=>{a(e),u(!!e.length&&e.length<n.length),x(e.length===n.length)},p=e=>{a(e.target.checked?h:o),u(e.target.checked?!1:!!o.length),x(e.target.checked)},k=()=>{x(c.length==n.length),u(!1),a(c)};r.useEffect(()=>{i(d)},[d]);const f=t.jsxs("div",{className:"set-header",children:[t.jsx(m,{indeterminate:C,onChange:p,checked:g,children:"全选"}),t.jsx(N,{type:"link",onClick:k,children:"重置"})]}),b=t.jsx(A,{options:n,value:d,onChange:j});return t.jsx(v,{getPopupContainer:e=>e.parentNode,className:"mu-popover",placement:"bottomRight",title:f,content:b,trigger:"click",children:s})},L=s=>s.headerContent&&t.jsxs("div",{className:"flex items-center justify-between py-[16px]",children:[t.jsx("div",{className:"header-left flex",children:s.headerContent.content()}),t.jsx("div",{className:"cursor-pointer",children:s.headerContent.isShowFilter&&t.jsx(B,{settingDisable:s.headerContent.settingDisable||[],columns:s.columns||[],setColumns:s.setColumns,children:t.jsx(S,{title:"列设置",children:t.jsx("span",{className:"text-[18px]",children:t.jsx(I,{})})})})})]});const O=s=>{const{columns:l,dataSource:i}=s,o={size:"middle",...s},[n,h]=r.useState(l||[]),c=d=>{n.forEach(a=>{d.includes(a.dataIndex)?a.className="":a.className="hidden"}),h([...n])};return t.jsxs("div",{className:"mu-custom-tables",children:[t.jsx(L,{setColumns:c,columns:n,headerContent:s.headerContent||null}),t.jsx(y,{renderEmpty:E,children:t.jsx(T,{...o,dataSource:i,columns:n})})]})},G=O;export{G as T};
