import{r,j as o}from"./react-16261f20.js";import{t as v,n as a,o as L,A as k,B as w}from"./antd-51a1d5a7.js";import"./@babel-9367d27f.js";import"./rc-util-8ac52126.js";import"./react-is-e8e5dbb3.js";import"./react-dom-c85821af.js";import"./scheduler-765c72db.js";import"./@ant-design-afc9f0aa.js";import"./classnames-f3eb6505.js";import"./@ctrl-fb5a5473.js";import"./@emotion-c0b5c018.js";import"./stylis-fad5b415.js";import"./resize-observer-polyfill-0f9f8adb.js";import"./rc-resize-observer-f56315fc.js";import"./rc-motion-66270194.js";import"./rc-picker-24f2c650.js";import"./dayjs-7d381acd.js";import"./@rc-component-47431e57.js";import"./rc-menu-65d2ea2f.js";import"./rc-overflow-62006d10.js";import"./rc-cascader-0ccd2334.js";import"./rc-select-d03dfa8d.js";import"./rc-virtual-list-e5cdb37f.js";import"./rc-tree-6e351d8e.js";import"./rc-input-number-d3c7589b.js";import"./rc-input-7d7eb8fa.js";import"./rc-field-form-d778d3a4.js";import"./async-validator-dee29e8b.js";import"./scroll-into-view-if-needed-640b7801.js";import"./compute-scroll-into-view-50f8bc03.js";import"./rc-dialog-8d13d67b.js";import"./rc-notification-f8e8cbae.js";import"./rc-tooltip-f0c21eff.js";import"./rc-switch-52a861e6.js";import"./rc-table-51ecba66.js";import"./rc-pagination-fa9d1e90.js";import"./throttle-debounce-87e7e444.js";import"./rc-checkbox-3bd48391.js";import"./rc-dropdown-64be8282.js";import"./rc-tree-select-74207cf5.js";import"./copy-to-clipboard-2fd384cc.js";import"./toggle-selection-93f4ad84.js";import"./rc-textarea-0246ae10.js";const c=8,l=`https://randomuser.me/api/?results=${c}&inc=name,gender,email,nat,picture&noinfo`,dt=()=>{const[n,d]=r.useState(!0),[u,s]=r.useState(!1),[m,p]=r.useState([]),[h,i]=r.useState([]),{token:{colorBgContainer:x,colorText:g}}=v.useToken();r.useEffect(()=>{fetch(l).then(t=>t.json()).then(t=>{d(!1),p(t.results),i(t.results)})},[]);const j=()=>{s(!0),i(m.concat([...new Array(c)].map(()=>({loading:!0,name:{},picture:{}})))),fetch(l).then(t=>t.json()).then(t=>{const e=m.concat(t.results);p(e),i(e),s(!1),window.dispatchEvent(new Event("resize"))})},f=!n&&!u?o.jsx("div",{style:{textAlign:"center",marginTop:12,height:32,lineHeight:"32px"},children:o.jsx(w,{onClick:j,children:"loading more"})}):null;return o.jsx("div",{className:"dynamic",style:{background:x},children:o.jsx(a,{className:"demo-loadmore-list",loading:n,itemLayout:"horizontal",loadMore:f,dataSource:h,renderItem:t=>{var e;return o.jsx(a.Item,{actions:[o.jsx("a",{style:{color:g},children:"查看详情"},"list-loadmore-view")],children:o.jsx(L,{avatar:!0,title:!1,loading:t.loading,active:!0,children:o.jsx(a.Item.Meta,{avatar:o.jsx(k,{src:t.picture.large}),title:o.jsx("span",{children:(e=t.name)==null?void 0:e.last}),description:"一分钟前更新动态"})})})}})})};export{dt as default};
