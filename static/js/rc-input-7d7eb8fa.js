import{c as y}from"./classnames-f3eb6505.js";import{r as C,R as i}from"./react-16261f20.js";import{a as X,d as S,e as Y,_ as ae,b as ue,c as Z,h as re}from"./@babel-9367d27f.js";import{B as oe,z as ce}from"./rc-util-8ac52126.js";function $(e){return!!(e.addonBefore||e.addonAfter)}function U(e){return!!(e.prefix||e.suffix||e.allowClear)}function ee(e,n,s,d){if(s){var t=n;if(n.type==="click"){var u=e.cloneNode(!0);t=Object.create(n,{target:{value:u},currentTarget:{value:u}}),u.value="",s(t);return}if(d!==void 0){t=Object.create(n,{target:{value:e},currentTarget:{value:e}}),e.value=d,s(t);return}s(t)}}function ie(e,n){if(e){e.focus(n);var s=n||{},d=s.cursor;if(d){var t=e.value.length;switch(d){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(t,t);break;default:e.setSelectionRange(0,t)}}}}function ne(e){return typeof e>"u"||e===null?"":String(e)}var se=function(n){var s,d,t=n.inputElement,u=n.prefixCls,D=n.prefix,E=n.suffix,k=n.addonBefore,N=n.addonAfter,b=n.className,j=n.style,W=n.disabled,I=n.readOnly,z=n.focused,w=n.triggerFocus,f=n.allowClear,B=n.value,H=n.handleReset,v=n.hidden,l=n.classes,m=n.classNames,K=n.dataAttrs,x=n.styles,r=n.components,L=(r==null?void 0:r.affixWrapper)||"span",T=(r==null?void 0:r.groupWrapper)||"span",P=(r==null?void 0:r.wrapper)||"span",V=(r==null?void 0:r.groupAddon)||"span",A=C.useRef(null),c=function(h){var g;(g=A.current)!==null&&g!==void 0&&g.contains(h.target)&&(w==null||w())},M=function(){var h;if(!f)return null;var g=!W&&!I&&B,Q="".concat(u,"-clear-icon"),te=ae(f)==="object"&&f!==null&&f!==void 0&&f.clearIcon?f.clearIcon:"âœ–";return i.createElement("span",{onClick:H,onMouseDown:function(le){return le.preventDefault()},className:y(Q,(h={},S(h,"".concat(Q,"-hidden"),!g),S(h,"".concat(Q,"-has-suffix"),!!E),h)),role:"button",tabIndex:-1},te)},O=C.cloneElement(t,{value:B,hidden:v,className:y((s=t.props)===null||s===void 0?void 0:s.className,!U(n)&&!$(n)&&b)||null,style:X(X({},(d=t.props)===null||d===void 0?void 0:d.style),!U(n)&&!$(n)?j:{})});if(U(n)){var R,_="".concat(u,"-affix-wrapper"),q=y(_,(R={},S(R,"".concat(_,"-disabled"),W),S(R,"".concat(_,"-focused"),z),S(R,"".concat(_,"-readonly"),I),S(R,"".concat(_,"-input-with-clear-btn"),E&&f&&B),R),!$(n)&&b,l==null?void 0:l.affixWrapper,m==null?void 0:m.affixWrapper),J=(E||f)&&i.createElement("span",{className:y("".concat(u,"-suffix"),m==null?void 0:m.suffix),style:x==null?void 0:x.suffix},M(),E);O=i.createElement(L,Y({className:q,style:$(n)?void 0:j,hidden:!$(n)&&v,onClick:c},K==null?void 0:K.affixWrapper,{ref:A}),D&&i.createElement("span",{className:y("".concat(u,"-prefix"),m==null?void 0:m.prefix),style:x==null?void 0:x.prefix},D),C.cloneElement(t,{value:B,hidden:null}),J)}if($(n)){var p="".concat(u,"-group"),G="".concat(p,"-addon"),o=y("".concat(u,"-wrapper"),p,l==null?void 0:l.wrapper),a=y("".concat(u,"-group-wrapper"),b,l==null?void 0:l.group);return i.createElement(T,{className:a,style:j,hidden:v},i.createElement(P,{className:o},k&&i.createElement(V,{className:G},k),C.cloneElement(O,{hidden:null}),N&&i.createElement(V,{className:G},N)))}return O},de=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","type","classes","classNames","styles"],xe=C.forwardRef(function(e,n){var s=e.autoComplete,d=e.onChange,t=e.onFocus,u=e.onBlur,D=e.onPressEnter,E=e.onKeyDown,k=e.prefixCls,N=k===void 0?"rc-input":k,b=e.disabled,j=e.htmlSize,W=e.className,I=e.maxLength,z=e.suffix,w=e.showCount,f=e.type,B=f===void 0?"text":f,H=e.classes,v=e.classNames,l=e.styles,m=ue(e,de),K=oe(e.defaultValue,{value:e.value}),x=Z(K,2),r=x[0],L=x[1],T=C.useState(!1),P=Z(T,2),V=P[0],A=P[1],c=C.useRef(null),M=function(a){c.current&&ie(c.current,a)};C.useImperativeHandle(n,function(){return{focus:M,blur:function(){var a;(a=c.current)===null||a===void 0||a.blur()},setSelectionRange:function(a,F,h){var g;(g=c.current)===null||g===void 0||g.setSelectionRange(a,F,h)},select:function(){var a;(a=c.current)===null||a===void 0||a.select()},input:c.current}}),C.useEffect(function(){A(function(o){return o&&b?!1:o})},[b]);var O=function(a){e.value===void 0&&L(a.target.value),c.current&&ee(c.current,a,d)},R=function(a){D&&a.key==="Enter"&&D(a),E==null||E(a)},_=function(a){A(!0),t==null||t(a)},q=function(a){A(!1),u==null||u(a)},J=function(a){L(""),M(),c.current&&ee(c.current,a,d)},p=function(){var a=ce(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","classes","htmlSize","styles","classNames"]);return i.createElement("input",Y({autoComplete:s},a,{onChange:O,onFocus:_,onBlur:q,onKeyDown:R,className:y(N,S({},"".concat(N,"-disabled"),b),v==null?void 0:v.input),style:l==null?void 0:l.input,ref:c,size:j,type:B}))},G=function(){var a=Number(I)>0;if(z||w){var F=ne(r),h=re(F).length,g=ae(w)==="object"?w.formatter({value:F,count:h,maxLength:I}):"".concat(h).concat(a?" / ".concat(I):"");return i.createElement(i.Fragment,null,!!w&&i.createElement("span",{className:y("".concat(N,"-show-count-suffix"),S({},"".concat(N,"-show-count-has-suffix"),!!z),v==null?void 0:v.count),style:X({},l==null?void 0:l.count)},g),z)}return null};return i.createElement(se,Y({},m,{prefixCls:N,className:W,inputElement:p(),handleReset:J,value:ne(r),focused:V,triggerFocus:M,suffix:G(),disabled:b,classes:H,classNames:v,styles:l}))});export{se as B,xe as I,ne as f,ee as r,ie as t};
